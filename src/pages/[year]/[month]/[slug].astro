---
import BlogPost from "@layouts/BlogPost.astro";
import type { BlogPostInfo } from "@base/types";
import { allPosts } from "@utils/allPosts";

export type Props = BlogPostInfo;

export async function getStaticPaths() {
  return allPosts.map((info) => {
    const { year, month, slug } = info;
    return {
      params: { year, month, slug },
      props: info,
    };
  });
}
---

<BlogPost {...Astro.props}>
  <Fragment set:html={Astro.props.html} />
</BlogPost>
